<html>
<head>
	<style>
table, th, td {
    border: 1px solid black;
}
</style>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
	<script>
		function getDatabase() {		
  var xhttp; 
  
  xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (xhttp.readyState == 4 && xhttp.status == 200) {
    //$("#result").text(xhttp.responseText);
    	var response = $.parseJSON(xhttp.responseText);
		
		 $.each(response, function(index, element)
		 {
		 	$('#records_table').append("<tr> <td>"+ element.id +"</td><td>"+ element.name +"</td><td>"+ element.field +"</td><td>"+ element.retribution +"</td><td>"+ element.period +"</td><td>"+ element.studies[0] +", "+ element.studies[1] +"</td><td><a href=\""+ element.link.link+"\">"+ element.link.label + "</a></td><td>"+ element.description +"</td></tr>");
         	//console.log(element.id)
         	   
   		 })
	}
  };
  xhttp.open("GET", "/get_database", true);
  xhttp.send();
}
</script>



</head>
<body onload="getDatabase()">
<a href="/">Home</a>
<a href="/cerca">Cerca</a>
<a href="/database">Database</a>
<div id="result">
	<table id=records_table>
	<tr>
	<th>Id</th>
    <th>Nome</th>
    <th>Campo</th>
    <th>Retribuzione</th>
    <th>Periodo</th>
    <th>Studi</th>
    <th>Link</th>
    <th>Descrizione</th>
	</tr>

	</table>

</div>
</body>
</html>